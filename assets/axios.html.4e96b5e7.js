import{_ as o,r as c,o as l,c as i,a as n,b as t,d as s,e as a}from"./app.a696b835.js";const u={},r=s('<h1 id="axios" tabindex="-1"><a class="header-anchor" href="#axios" aria-hidden="true">#</a> Axios</h1><h2 id="\u7B2C1\u7AE0-axios\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#\u7B2C1\u7AE0-axios\u6982\u8FF0" aria-hidden="true">#</a> \u7B2C1\u7AE0 Axios\u6982\u8FF0</h2><h3 id="_1-1-axios\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-1-axios\u7B80\u4ECB" aria-hidden="true">#</a> 1.1 Axios\u7B80\u4ECB</h3>',3),k=a("\u6587\u6863: "),d={href:"https://github.com/axios/",target:"_blank",rel:"noopener noreferrer"},v=a("https://github.com/axios/"),m=s(`<ol><li><p>Axios\u662F\u524D\u7AEF\u6700\u6D41\u884C\u7684 ajax \u8BF7\u6C42\u5E93</p></li><li><p>react/vue \u5B98\u65B9\u90FD\u63A8\u8350\u4F7F\u7528 axios \u53D1 ajax \u8BF7\u6C42</p></li><li><p>\u7B80\u5355\u5F15\u5165\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u9879\u76EE\u5B89\u88C5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i axios <span class="token operator">|</span> <span class="token function">yarn</span> <span class="token function">add</span> axios
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><hr><h3 id="_1-2-axios\u7279\u70B9" tabindex="-1"><a class="header-anchor" href="#_1-2-axios\u7279\u70B9" aria-hidden="true">#</a> 1.2 Axios\u7279\u70B9</h3><ol><li>\u57FA\u4E8E xhr + promise \u7684\u5F02\u6B65 ajax \u8BF7\u6C42\u5E93</li><li>\u6D4F\u89C8\u5668\u7AEF/node \u7AEF\u90FD\u53EF\u4EE5\u4F7F\u7528</li><li>\u652F\u6301\u8BF7\u6C42\uFF0F\u54CD\u5E94\u62E6\u622A\u5668</li><li>\u652F\u6301\u8BF7\u6C42\u53D6\u6D88</li><li>\u8BF7\u6C42/\u54CD\u5E94\u6570\u636E\u8F6C\u6362</li><li>\u6279\u91CF\u53D1\u9001\u591A\u4E2A\u8BF7\u6C42</li></ol><hr><h3 id="_1-3-json-server" tabindex="-1"><a class="header-anchor" href="#_1-3-json-server" aria-hidden="true">#</a> 1.3 Json-Server</h3>`,6),b=a("\u6587\u6863\uFF1A"),g={href:"https://github.com/typicode/json-server",target:"_blank",rel:"noopener noreferrer"},y=a("https://github.com/typicode/json-server"),h=s(`<ol><li><p>\u4ECB\u7ECD\uFF1A\u57FA\u4E8Ejson\u6587\u4EF6\u5FEB\u901F\u642D\u5EFA\u4E00\u4E2A\u6A21\u62DF\u670D\u52A1\u5668\uFF0C\u65B9\u4FBF\u524D\u7AEF\u6D4B\u8BD5</p></li><li><p>\u5B89\u88C5\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g json-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u521B\u5EFAjson\u6587\u4EF6\uFF1Adb.json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;posts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;json-server&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;typicode&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u5C1A\u7845\u8C37\u5927\u5382\u5B66\u9662\u4E0A\u7EBF\u5566&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u5C0F\u7F16&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;comments&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token string">&quot;some comment&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;postId&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u559C\u5927\u666E\u5954&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;postId&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;profile&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;typicode&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u542F\u52A8\u6A21\u62DF\u670D\u52A1\u5668\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>json-server --watch db.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><hr><h2 id="\u7B2C2\u7AE0-axios\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u7B2C2\u7AE0-axios\u8BED\u6CD5" aria-hidden="true">#</a> \u7B2C2\u7AE0 Axios\u8BED\u6CD5</h2>`,3),f=["src"],x=s(`<h3 id="_2-1-\u901A\u7528\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2-1-\u901A\u7528\u65B9\u6CD5" aria-hidden="true">#</a> 2.1 \u901A\u7528\u65B9\u6CD5</h3><ol><li><p><code>axios(config)</code>: \u901A\u7528/\u6700\u672C\u8D28\u7684\u53D1\u4EFB\u610F\u7C7B\u578B\u8BF7\u6C42\u7684\u65B9\u5F0F</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// \u8BF7\u6C42\u7C7B\u578B</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// URL</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8BBE\u7F6E\u8BF7\u6C42\u4F53</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">key1</span><span class="token operator">:</span> value1<span class="token punctuation">,</span>
    <span class="token literal-property property">key2</span><span class="token operator">:</span> value2<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u6848\u4F8B\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u53D1\u9001GET\u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u53D1\u9001POST\u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u53D1\u9001 PUT \u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u53D1\u9001 DELETE \u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1\uFF09GET\u8BF7\u6C42\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u83B7\u53D6\u6309\u94AE</span>
<span class="token keyword">const</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u7B2C\u4E00\u4E2A</span>
btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u53D1\u9001 AJAX \u8BF7\u6C42</span>
  <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// \u8BF7\u6C42\u7C7B\u578B</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// URL\uFF08\u83B7\u53D6id\u4E3A2\u7684\u6570\u636E\uFF09</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000/posts/2&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2\uFF09POST\u8BF7\u6C42\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6DFB\u52A0\u4E00\u7BC7\u65B0\u7684\u6587\u7AE0</span>
btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u53D1\u9001 AJAX \u8BF7\u6C42</span>
  <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// \u8BF7\u6C42\u7C7B\u578B</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// URL</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000/posts&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u8BBE\u7F6E\u8BF7\u6C42\u4F53</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;\u4ECA\u5929\u5929\u6C14\u4E0D\u9519, \u8FD8\u633A\u98CE\u548C\u65E5\u4E3D\u7684&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">&#39;\u5F20\u4E09&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3\uFF09PUT\u8BF7\u6C42\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u66F4\u65B0\u6570\u636E</span>
btns<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u53D1\u9001 AJAX \u8BF7\u6C42</span>
  <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// \u8BF7\u6C42\u7C7B\u578B</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;PUT&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// URL</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000/posts/3&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u8BBE\u7F6E\u8BF7\u6C42\u4F53</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;\u4ECA\u5929\u5929\u6C14\u4E0D\u9519, \u8FD8\u633A\u98CE\u548C\u65E5\u4E3D\u7684&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">&#39;\u674E\u56DB&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4\uFF09DELETE\u8BF7\u6C42\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5220\u9664\u6570\u636E</span>
btns<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u53D1\u9001 AJAX \u8BF7\u6C42</span>
  <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// \u8BF7\u6C42\u7C7B\u578B</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;delete&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// URL</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000/posts/3&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="_2-2-\u53D1\u9001\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#_2-2-\u53D1\u9001\u8BF7\u6C42" aria-hidden="true">#</a> 2.2 \u53D1\u9001\u8BF7\u6C42</h3><ol><li><p><code>axios.request(config)</code>: \u7B49\u540C\u4E8E<code>axios(config)</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>axios
  <span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	  <span class="token literal-property property">key1</span><span class="token operator">:</span> value1<span class="token punctuation">,</span>
      <span class="token literal-property property">key2</span><span class="token operator">:</span> value2<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>axios.get(url[, config])</code>: \u53D1GET\u8BF7\u6C42</p></li><li><p><code>axios.delete(url[, config])</code>: \u53D1DELETE\u8BF7\u6C42</p></li><li><p><code>axios.head(url[, config])</code>: \u53D1HEAD\u8BF7\u6C42</p></li><li><p><code>axios.options(url[, config])</code>: \u53D1OPTIONS\u8BF7\u6C42</p></li><li><p><code>axios.post(url[, data[, config]])</code>: \u53D1POST\u8BF7\u6C42</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6848\u4F8B</span>
btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  axios
    <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;http://localhost:3000/comments&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8FD9\u91CC\u7684key\u8981\u6839\u636E\u670D\u52A1\u5668\u8981\u6C42\u7684\u683C\u5F0F\u914D\u7F6E</span>
      <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token string">&#39;\u559C\u5927\u666E\u5954&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">postId</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>axios.put(url[, data[, config]])</code>: \u53D1PUT\u8BF7\u6C42</p></li><li><p><code>axios.patch(url[, data[, config]])</code>: \u53D1PATCH\u8BF7\u6C42</p></li></ol><hr><h3 id="_2-3-\u54CD\u5E94\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#_2-3-\u54CD\u5E94\u7ED3\u6784" aria-hidden="true">#</a> 2.3 \u54CD\u5E94\u7ED3\u6784</h3><blockquote><p>axios\u8FD4\u56DE\u7684<code>response</code>\u5BF9\u8C61\uFF08\u4EE5GET\u4E3A\u4F8B\uFF09</p></blockquote><ol><li><p><code>config</code>\uFF1A\u914D\u7F6E\u9879</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>adapter<span class="token operator">:</span> \u0192 (e)
data<span class="token operator">:</span> undefined
headers<span class="token operator">:</span> <span class="token punctuation">{</span>Accept<span class="token operator">:</span> &#39;application/json<span class="token punctuation">,</span> text/plain<span class="token punctuation">,</span> *<span class="token comment">/*&#39;}
maxBodyLength: -1
maxContentLength: -1
method: &quot;get&quot;
timeout: 0
transformRequest: [\u0192]
transformResponse: [\u0192]
url: &quot;http://localhost:3000/posts/2&quot;
validateStatus: \u0192 (e)
xsrfCookieName: &quot;XSRF-TOKEN&quot;
xsrfHeaderName: &quot;X-XSRF-TOKEN&quot;
[[Prototype]]: Object
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>data</code>\uFF1A\u54CD\u5E94\u4F53</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>author<span class="token operator">:</span> <span class="token string">&quot;\u5C0F\u7F16&quot;</span>
id<span class="token operator">:</span> <span class="token number">2</span>
title<span class="token operator">:</span> <span class="token string">&quot;\u5C1A\u7845\u8C37\u5927\u5382\u5B66\u9662\u4E0A\u7EBF\u5566&quot;</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>headers</code>\uFF1A\u54CD\u5E94\u5934</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>cache-control<span class="token operator">:</span> <span class="token string">&quot;no-cache&quot;</span>
content-length<span class="token operator">:</span> <span class="token string">&quot;80&quot;</span>
content-type<span class="token operator">:</span> <span class="token string">&quot;application/json; charset=utf-8&quot;</span>
expires<span class="token operator">:</span> <span class="token string">&quot;-1&quot;</span>
pragma<span class="token operator">:</span> <span class="token string">&quot;no-cache&quot;</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> Object
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>request</code>\uFF1AXMLHttpRequest\uFF08\u539F\u751FAjax\u8BF7\u6C42\u5BF9\u8C61\uFF09</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>onabort<span class="token operator">:</span> \u0192 ()
onerror<span class="token operator">:</span> \u0192 ()
onload<span class="token operator">:</span> <span class="token null keyword">null</span>
onloadend<span class="token operator">:</span> <span class="token null keyword">null</span>
onloadstart<span class="token operator">:</span> <span class="token null keyword">null</span>
onprogress<span class="token operator">:</span> <span class="token null keyword">null</span>
onreadystatechange<span class="token operator">:</span> \u0192 ()
ontimeout<span class="token operator">:</span> \u0192 ()
readyState<span class="token operator">:</span> <span class="token number">4</span>
response<span class="token operator">:</span> <span class="token string">&quot;{\\n  \\&quot;id\\&quot;: 2,\\n  \\&quot;title\\&quot;: \\&quot;\u5C1A\u7845\u8C37\u5927\u5382\u5B66\u9662\u4E0A\u7EBF\u5566\\&quot;,\\n  \\&quot;author\\&quot;: \\&quot;\u5C0F\u7F16\\&quot;\\n}&quot;</span>
responseText<span class="token operator">:</span> <span class="token string">&quot;{\\n  \\&quot;id\\&quot;: 2,\\n  \\&quot;title\\&quot;: \\&quot;\u5C1A\u7845\u8C37\u5927\u5382\u5B66\u9662\u4E0A\u7EBF\u5566\\&quot;,\\n  \\&quot;author\\&quot;: \\&quot;\u5C0F\u7F16\\&quot;\\n}&quot;</span>
responseType<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
responseURL<span class="token operator">:</span> <span class="token string">&quot;http://localhost:3000/posts/2&quot;</span>
responseXML<span class="token operator">:</span> <span class="token null keyword">null</span>
status<span class="token operator">:</span> <span class="token number">200</span>
statusText<span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span>
timeout<span class="token operator">:</span> <span class="token number">0</span>
upload<span class="token operator">:</span> XMLHttpRequestUpload <span class="token punctuation">{</span>onloadstart<span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> onprogress<span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> onabort<span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> onerror<span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> onload<span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span> \u2026<span class="token punctuation">}</span>
withCredentials<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>Prototype<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> XMLHttpRequest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>status</code>\uFF1A\u54CD\u5E94\u7801</p></li><li><p><code>statusText</code>\uFF1A\u54CD\u5E94\u5B57\u7B26\u4E32</p></li></ol><hr><h3 id="_2-4-config" tabindex="-1"><a class="header-anchor" href="#_2-4-config" aria-hidden="true">#</a> 2.4 Config</h3><blockquote><p>Axios\u53D1\u9001\u8BF7\u6C42\u65F6\u7684<code>config</code>\u53EF\u9009\u914D\u7F6E\u9879</p></blockquote><ol><li><p>\u5E38\u7528\u9009\u9879\uFF1A</p><ul><li><code>url</code>\uFF1A\u53D1\u9001\u8BF7\u6C42\u7684\u5730\u5740</li><li><code>method</code>\uFF1A\u53D1\u9001\u8BF7\u6C42\u65B9\u5F0F</li><li><code>baseURL</code>\uFF1A\u53EF\u4EE5\u8BBE\u7F6E\u57FA\u51C6URL\uFF0C\u9ED8\u8BA4\u4E0EURL\u8FDB\u884C\u62FC\u63A5\uFF0C\u7B80\u5316\u4EE3\u7801</li><li><code>transformRequest</code>\uFF1A\u5BF9request\u8FDB\u884C\u5904\u7406</li><li><code>transformResponse</code>\uFF1A\u5BF9response\u8FDB\u884C\u5904\u7406</li><li><code>headers</code>\uFF1A\u63A7\u5236\u8BF7\u6C42\u5934\u4FE1\u606F\uFF08\u5982\u4F20\u9012\u6587\u4EF6\u65F6\u9700\u8981\u6DFB\u52A0\uFF09</li><li><code>params</code>\uFF1A\u5B9E\u73B0\u5728url\u4E2D\u4F20\u9012\u53C2\u6570\uFF0C\u683C\u5F0F\u4E3A<code>?a=100&amp;b=200</code></li><li><code>paramsSerializer</code>\uFF1A\u8F6C\u6362\u4F20\u9012\u7684params\uFF0C\u683C\u5F0F\u4E3A<code>/a/100/b/200 </code>\u6216<code>/a.100/b.200</code></li><li><code>data</code>\uFF1A\u8BF7\u6C42\u4F53\u8BBE\u7F6E\uFF0C\u5BF9\u8C61\u5F62\u5F0F\uFF08json\uFF09\u3001\u5B57\u7B26\u4E32\u5F62\u5F0F\uFF08url\u53C2\u6570\u4F20\u9012\uFF09</li><li><code>proxy</code>\uFF1A\u4EE3\u7406\u8BBE\u7F6E\uFF0C\u7528\u5728\u540E\u7AEFnodejs\uFF0C\u722C\u866B\u3001\u6295\u7968\u7B49\u5E38\u7528</li></ul></li><li><p>\u6574\u4F53\u9009\u9879\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;/user&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u9ED8\u8BA4</span>
  <span class="token comment">// \u53EF\u4EE5\u8BBE\u7F6E\u57FA\u51C6URL\uFF0C\u9ED8\u8BA4\u4E0EURL\u8FDB\u884C\u62FC\u63A5\uFF0C\u7B80\u5316\u4EE3\u7801</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">&#39;https://some-domain.com/api/&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5BF9request\u8FDB\u884C\u5904\u7406</span>
  <span class="token literal-property property">transformRequest</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> headers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do whatever you want to transform the data</span>
    <span class="token keyword">return</span> data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5BF9response\u8FDB\u884C\u5904\u7406</span>
  <span class="token literal-property property">transformResponse</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do whatever you want to transform the data</span>
    <span class="token keyword">return</span> data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// \u63A7\u5236\u8BF7\u6C42\u5934\u4FE1\u606F\uFF08\u5982\u4F20\u9012\u6587\u4EF6\u65F6\u9700\u8981\u6DFB\u52A0\uFF09</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;X-Requested-With&#39;</span><span class="token operator">:</span> <span class="token string">&#39;XMLHttpRequest&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5B9E\u73B0\u5728url\u4E2D\u4F20\u9012\u53C2\u6570\uFF1A/user?a=100&amp;b=200</span>
  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u53C2\u6570\u5E8F\u5217\u5316\uFF1A\u8F6C\u6362\u4F20\u9012\u7684params</span>
  <span class="token comment">// \u6B63\u5E38\u60C5\u51B5\uFF1A/user?a=100&amp;b=200</span>
  <span class="token comment">// \u8F6C\u5316\u540E\uFF1A/user/a/100/b/200 \u6216 /user/a.100/b.200</span>
  <span class="token literal-property property">paramsSerializer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">indexes</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token comment">// array indexes format (null - no brackets, false - empty brackets, true - brackets with indexes)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8BF7\u6C42\u4F53\u8BBE\u7F6E\uFF1A\u5BF9\u8C61\u5F62\u5F0F</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;Fred&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8BF7\u6C42\u4F53\u8BBE\u7F6E\uFF1A\u5B57\u7B26\u4E32\u5F62\u5F0F</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&#39;Country=Brasil&amp;City=Belo Horizonte&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8D85\u65F6\u65F6\u95F4\uFF1A\u6BEB\u79D2\uFF0C\u8D85\u8FC7\u65F6\u95F4\u540E\u53D1\u9001\u8BF7\u6C42\u88AB\u7EC8\u6B62</span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// default is \`0\` (no timeout)</span>
  <span class="token comment">// \u8DE8\u57DF\u8BF7\u6C42\u65F6\u662F\u5426\u643A\u5E26cookie</span>
  <span class="token literal-property property">withCredentials</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// default</span>
  <span class="token comment">// \u8BBE\u7F6E\u8BF7\u6C42\u8BC6\u522B\u5668\uFF082\u4E2A\u8FD0\u884C\u73AF\u5883\uFF1A\u53D1\u9001ajax\u3001nodejs\u4E2D\u53D1\u9001http\u8BF7\u6C42\uFF09</span>
  <span class="token function-variable function">adapter</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* ... */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8BF7\u6C42\u9A8C\u8BC1\uFF08\u7528\u6237\u540D\u3001\u5BC6\u7801\uFF09</span>
  <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&#39;janedoe&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&#39;s00pers3cret&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u54CD\u5E94\u7ED3\u679C\u7684\u683C\u5F0F</span>
  <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">,</span> <span class="token comment">// default</span>
  <span class="token comment">// \u54CD\u5E94\u7ED3\u679C\u7684\u7F16\u7801</span>
  <span class="token literal-property property">responseEncoding</span><span class="token operator">:</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span> <span class="token comment">// default</span>
  <span class="token comment">// \u8DE8\u57DF\u8BF7\u6C42\u6807\u8BC6\uFF1A\u8BBE\u7F6Ecookie\u7684\u540D\u5B57\uFF08\u7528\u4E8E\u5B89\u5168\u4FDD\u62A4\uFF09</span>
  <span class="token literal-property property">xsrfCookieName</span><span class="token operator">:</span> <span class="token string">&#39;XSRF-TOKEN&#39;</span><span class="token punctuation">,</span> <span class="token comment">// default</span>
  <span class="token comment">// \u8DE8\u57DF\u8BF7\u6C42\u6807\u8BC6\uFF1A\u8BBE\u7F6Eheader\u540D\u5B57\uFF08\u7528\u4E8E\u5B89\u5168\u4FDD\u62A4\uFF09</span>
  <span class="token literal-property property">xsrfHeaderName</span><span class="token operator">:</span> <span class="token string">&#39;X-XSRF-TOKEN&#39;</span><span class="token punctuation">,</span> <span class="token comment">// default</span>
  <span class="token comment">// \u4E0A\u4F20\u65F6\u7684\u56DE\u8C03\u51FD\u6570</span>
  <span class="token function-variable function">onUploadProgress</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">progressEvent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do whatever you want with the native progress event</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u4E0B\u8F7D\u65F6\u7684\u56DE\u8C03\u51FD\u6570</span>
  <span class="token function-variable function">onDownloadProgress</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">progressEvent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do whatever you want with the native progress event</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// http\u54CD\u5E94\u4F53\u7684\u6700\u5927\u5C3A\u5BF8\uFF08\u5355\u4F4D\uFF1A\u5B57\u8282\uFF09</span>
  <span class="token literal-property property">maxContentLength</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8BF7\u6C42\u4F53\u7684\u6700\u5927\u5C3A\u5BF8\uFF08\u5355\u4F4D\uFF1A\u5B57\u8282\uFF09</span>
  <span class="token literal-property property">maxBodyLength</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5BF9\u54CD\u5E94\u7ED3\u679C\u7684\u6210\u529F\u8FDB\u884C\u8BBE\u7F6E\uFF08\u9ED8\u8BA4\uFF1A\u54CD\u5E94\u7801\u5728200-300\u4E4B\u95F4\uFF09</span>
  <span class="token function-variable function">validateStatus</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">;</span> <span class="token comment">// default</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u6700\u5927\u8DF3\u8F6C\u6B21\u6570\uFF08\u7528\u5728\u540E\u7AEFnodejs\u4E2D\u7684\uFF09</span>
  <span class="token literal-property property">maxRedirects</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token comment">// default</span>
  <span class="token comment">// \u5728\u8DF3\u8F6C\u4E4B\u524D\u7684\u56DE\u8C03\u51FD\u6570</span>
  <span class="token function-variable function">beforeRedirect</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> <span class="token punctuation">{</span> headers <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>hostname <span class="token operator">===</span> <span class="token string">&quot;example.com&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      options<span class="token punctuation">.</span>auth <span class="token operator">=</span> <span class="token string">&quot;user:password&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8BBE\u7F6Esocket\u6587\u4EF6\u8DEF\u5F84\uFF08\u5982\u679C\u4E5F\u8BBE\u7F6E\u4E86proxy\uFF0C\u5219\u4F18\u5148\u4F7F\u7528socket\uFF09</span>
  <span class="token literal-property property">socketPath</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// default</span>
  <span class="token comment">// \u5BA2\u6237\u7AEF\u4FE1\u606F\u8BBE\u7F6E</span>
  <span class="token literal-property property">httpAgent</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">http<span class="token punctuation">.</span>Agent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">httpsAgent</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">https<span class="token punctuation">.</span>Agent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// \u4EE3\u7406\u8BBE\u7F6E\uFF08\u4F18\u5148\u4F7F\u7528socket\uFF09\uFF1A\u7528\u5728\u540E\u7AEFnodejs\uFF0C\u722C\u866B\u3001\u6295\u7968\u7B49\u5E38\u7528</span>
  <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">protocol</span><span class="token operator">:</span> <span class="token string">&#39;https&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;127.0.0.1&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">9000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&#39;mikeymike&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&#39;rapunz3l&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5BF9ajax\u53D6\u6D88\u8FDB\u884C\u8BBE\u7F6E</span>
  <span class="token literal-property property">cancelToken</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">CancelToken</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cancel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token literal-property property">signal</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>signal<span class="token punctuation">,</span>
  <span class="token comment">// \u76F8\u5E94\u7ED3\u679C\u662F\u5426\u89E3\u538B\uFF08\u9488\u5BF9nodejs\uFF09</span>
  <span class="token literal-property property">decompress</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// default</span>

  <span class="token literal-property property">insecureHTTPParser</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token comment">// default</span>

  <span class="token literal-property property">transitional</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">silentJSONParsing</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">forcedJSONParsing</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">clarifyTimeoutError</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">FormData</span><span class="token operator">:</span> window<span class="token operator">?.</span>FormData <span class="token operator">||</span> global<span class="token operator">?.</span>FormData
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">formSerializer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">visitor</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> path<span class="token punctuation">,</span> helpers</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
      <span class="token literal-property property">dots</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> 
      <span class="token literal-property property">metaTokens</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span> 
      <span class="token literal-property property">indexes</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="_2-5-defaults" tabindex="-1"><a class="header-anchor" href="#_2-5-defaults" aria-hidden="true">#</a> 2.5 Defaults</h3><blockquote><p><code>axios.defaults.xxx</code>: \u8BF7\u6C42\u7684\u9ED8\u8BA4\u5168\u5C40\u914D\u7F6E\uFF0C\u53EF\u4EE5\u7B80\u5316\u4EE3\u7801</p></blockquote><ol><li><p>\u672A\u8BBE\u7F6E\u9ED8\u8BA4\u5168\u5C40\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span>

btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;/posts&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u8BBE\u7F6E\u9ED8\u8BA4\u5168\u5C40\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>method <span class="token operator">=</span> <span class="token string">&#39;GET&#39;</span> <span class="token comment">// \u8BBE\u7F6E\u9ED8\u8BA4\u7684\u8BF7\u6C42\u7C7B\u578B\u4E3A GET</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&#39;http://localhost:3000&#39;</span> <span class="token comment">// \u8BBE\u7F6E\u57FA\u7840 URL</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>params <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">3000</span> <span class="token comment">//</span>

btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;/posts&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="_2-6-create" tabindex="-1"><a class="header-anchor" href="#_2-6-create" aria-hidden="true">#</a> 2.6 Create</h3><blockquote><p><code>axios.create([config])</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684axios\u53D1\u9001\u8BF7\u6C42\uFF0C\u57FA\u672C\u65B9\u6CD5\u90FD\u53EF\u4F7F\u7528\uFF0C\u4F46\u6CA1\u6709\u53D6\u6D88\u8BF7\u6C42\u3001\u6279\u91CF\u53D1\u8BF7\u6C42\u7684\u65B9\u6CD5</p></blockquote><ol><li><p>\u4F5C\u7528\uFF1A\u5982\u679C\u9700\u8981\u5BF9\u591A\u4E2A\u7AEF\u53E3\u53D1\u9001\u8BF7\u6C42\uFF0C\u4F7F\u7528create\u521B\u5EFA\u591A\u4E2Aaxios\u5BF9\u8C61\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u4E0Eaxios\u76F8\u540C\u529F\u80FD</p></li><li><p>\u6848\u4F8B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9E\u4F8B1</span>
<span class="token keyword">const</span> duanzi <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">&#39;https://api.apiopen.top&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u5B9E\u4F8B2</span>
<span class="token keyword">const</span> baidu <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">&#39;https://apis.baidu.com&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// axios\u80FD\u7528\u7684\u8BED\u6CD5\uFF0C\u5B9E\u4F8B\u90FD\u53EF\u4EE5\u7528</span>
<span class="token function">duanzi</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;/getJoke&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// axios\u80FD\u7528\u7684\u8BED\u6CD5\uFF0C\u5B9E\u4F8B\u90FD\u53EF\u4EE5\u7528</span>
baidu<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/map&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="_2-7-\u62E6\u622A\u5668" tabindex="-1"><a class="header-anchor" href="#_2-7-\u62E6\u622A\u5668" aria-hidden="true">#</a> 2.7 \u62E6\u622A\u5668</h3><blockquote><p><code>axios.interceptors.xxx</code>\uFF1A\u8BF7\u6C42\u62E6\u622A\u5668\u3001\u54CD\u5E94\u62E6\u622A\u5668\uFF0C\u53D1\u9001\u8BF7\u6C42\u3001\u63A5\u6536\u54CD\u5E94\u4E4B\u524D\u53EF\u4EE5\u8FDB\u884C\u5904\u7406</p></blockquote><ol><li><p>\u8BF4\u660E\uFF1A\u8C03\u7528 axios()\u5E76\u4E0D\u662F\u7ACB\u5373\u53D1\u9001ajax\u8BF7\u6C42\uFF0C\u800C\u662F\u9700\u8981\u7ECF\u5386\u4E00\u4E2A\u8F83\u957F\u7684\u6D41\u7A0B</p></li><li><p>\u6267\u884C\u987A\u5E8F\uFF1A\u8BF7\u6C42\u62E6\u622A\u56682 =&gt; \u8BF7\u6C42\u62E6\u622A\u56681 =&gt; \u53D1ajax\u8BF7\u6C42 =&gt; \u54CD\u5E94\u62E6\u622A\u56681 =&gt; \u54CD\u5E94\u62E6\u622A\u5668 2 =&gt; \u8BF7\u6C42\u7684\u56DE\u8C03</p></li><li><p>\u6CE8\u610F\uFF1A\u6B64\u6D41\u7A0B\u662F\u901A\u8FC7 promise \u4E32\u8FDE\u8D77\u6765\u7684\uFF0C\u8BF7\u6C42\u62E6\u622A\u5668\u4F20\u9012\u7684\u662F <code>config</code>\uFF0C\u54CD\u5E94\u62E6\u622A\u5668\u4F20\u9012\u7684\u662F <code>response</code></p></li><li><p>\u6848\u4F8B\uFF1A</p><p>1\uFF09\u8BBE\u7F6E\u8BF7\u6C42\u62E6\u622A\u5668\uFF1A<code>axios.interceptors.request.use()</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8BF7\u6C42\u62E6\u622A\u5668\uFF1A\u7531\u540E\u5411\u524D\u6267\u884C\uFF08\u6267\u884C\u987A\u5E8F\uFF1A2\uFF09</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42\u62E6\u622A\u5668 \u6210\u529F - 1\u53F7&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// \u4FEE\u6539 config \u4E2D\u7684\u53C2\u6570</span>
    config<span class="token punctuation">.</span>params <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42\u62E6\u622A\u5668 \u5931\u8D25 - 1\u53F7&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// \u8BF7\u6C42\u62E6\u622A\u5668\uFF1A\u7531\u540E\u5411\u524D\u6267\u884C\uFF08\u6267\u884C\u987A\u5E8F\uFF1A1\uFF09</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42\u62E6\u622A\u5668 \u6210\u529F - 2\u53F7&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// \u4FEE\u6539 config \u4E2D\u7684\u53C2\u6570</span>
    config<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">2000</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42\u62E6\u622A\u5668 \u5931\u8D25 - 2\u53F7&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2\uFF09\u8BBE\u7F6E\u54CD\u5E94\u62E6\u622A\u5668\uFF1A<code>axios.interceptors.response.use()</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u54CD\u5E94\u62E6\u622A\u5668\uFF1A\u7531\u524D\u5411\u540E\u6267\u884C\uFF08\u6267\u884C\u987A\u5E8F\uFF1A1\uFF09</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u54CD\u5E94\u62E6\u622A\u5668 \u6210\u529F 1\u53F7&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> response<span class="token punctuation">.</span>data
    <span class="token comment">// return response;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u54CD\u5E94\u62E6\u622A\u5668 \u5931\u8D25 1\u53F7&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// \u54CD\u5E94\u62E6\u622A\u5668\uFF1A\u7531\u524D\u5411\u540E\u6267\u884C\uFF08\u6267\u884C\u987A\u5E8F\uFF1A2\uFF09</span>
axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u54CD\u5E94\u62E6\u622A\u5668 \u6210\u529F 2\u53F7&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> response
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u54CD\u5E94\u62E6\u622A\u5668 \u5931\u8D25 2\u53F7&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3\uFF09\u6D4B\u8BD5\uFF1A\u53D1\u9001\u8BF7\u6C42</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000/posts&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u81EA\u5B9A\u4E49\u56DE\u8C03\u5904\u7406\u6210\u529F\u7684\u7ED3\u679C&#39;</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="_2-8-\u53D6\u6D88\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#_2-8-\u53D6\u6D88\u8BF7\u6C42" aria-hidden="true">#</a> 2.8 \u53D6\u6D88\u8BF7\u6C42</h3><ol><li><p>\u57FA\u672C\u65B9\u6CD5\uFF1A</p><p>1\uFF09<code>axios.Cancel()</code>\uFF1A\u7528\u4E8E\u521B\u5EFA\u53D6\u6D88\u8BF7\u6C42\u7684\u9519\u8BEF\u5BF9\u8C61</p><p>2\uFF09<code>axios.CancelToken()</code>\uFF1A\u7528\u4E8E\u521B\u5EFA\u53D6\u6D88\u8BF7\u6C42\u7684 token \u5BF9\u8C61</p><p>3\uFF09<code>axios.isCancel()</code>\uFF1A\u662F\u5426\u662F\u4E00\u4E2A\u53D6\u6D88\u8BF7\u6C42\u7684\u9519\u8BEF</p></li><li><p>\u5B9E\u73B0\u6D41\u7A0B\uFF1A</p><p>1\uFF09\u914D\u7F6E<code>cancelToken</code>\u5BF9\u8C61</p><p>2\uFF09\u7F13\u5B58\u7528\u4E8E\u53D6\u6D88\u8BF7\u6C42\u7684<code>cancel</code>\u51FD\u6570</p><p>3\uFF09\u5728\u540E\u9762\u7279\u5B9A\u65F6\u673A\u8C03\u7528<code>cancel</code>\u51FD\u6570\u53D6\u6D88\u8BF7\u6C42</p><p>4\uFF09\u5728\u9519\u8BEF\u56DE\u8C03\u4E2D\u5224\u65AD\u5982\u679C<code>error</code>\u662F<code>cancel</code>, \u505A\u76F8\u5E94\u5904\u7406</p></li><li><p>\u6848\u4F8B\uFF1A</p><p>1\uFF09\u70B9\u51FB\u6309\u94AE\uFF0C\u53D6\u6D88\u67D0\u4E2A\u6B63\u5728\u8BF7\u6C42\u4E2D\u7684\u8BF7\u6C42</p><p>2\uFF09\u5728\u8BF7\u6C42\u4E00\u4E2A\u63A5\u53E3\u524D\uFF0C\u53D6\u6D88\u524D\u9762\u4E00\u4E2A\u672A\u5B8C\u6210\u7684\u8BF7\u6C42</p><p>3\uFF09\u53EF\u4EE5\u914D\u5408json-server\u4E2D\u7684delay\u529F\u80FD\u8FDB\u884C\u6D4B\u8BD5\uFF1A<code>json-server --watch db.json -d 2000</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u53D1\u9001\u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u53D6\u6D88\u8BF7\u6C42<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u83B7\u53D6\u6309\u94AE</span>
<span class="token keyword">const</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 2.\u58F0\u660E\u5168\u5C40\u53D8\u91CF</span>
<span class="token keyword">let</span> cancel <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token comment">// \u53D1\u9001\u8BF7\u6C42</span>
btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u68C0\u6D4B\u4E0A\u4E00\u6B21\u7684\u8BF7\u6C42\u662F\u5426\u5DF2\u7ECF\u5B8C\u6210</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cancel <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u53D6\u6D88\u4E0A\u4E00\u6B21\u7684\u8BF7\u6C42</span>
    <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000/posts&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// 1. \u6DFB\u52A0\u914D\u7F6E\u5BF9\u8C61\u7684\u5C5E\u6027</span>
    <span class="token literal-property property">cancelToken</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">axios<span class="token punctuation">.</span>CancelToken</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 3. \u5C06c\u7684\u503C\u8D4B\u503C\u7ED9 cancel</span>
      cancel <span class="token operator">=</span> c
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    <span class="token comment">// \u5C06 cancel \u7684\u503C\u521D\u59CB\u5316</span>
    cancel <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7ED1\u5B9A\u7B2C\u4E8C\u4E2A\u4E8B\u4EF6\u53D6\u6D88\u8BF7\u6C42</span>
btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="_2-9-\u6279\u91CF\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#_2-9-\u6279\u91CF\u8BF7\u6C42" aria-hidden="true">#</a> 2.9 \u6279\u91CF\u8BF7\u6C42</h3><ol><li><p>\u57FA\u672C\u65B9\u6CD5\uFF1A</p><p>1\uFF09<code>axios.all(promises)</code>: \u7528\u4E8E\u6279\u91CF\u6267\u884C\u591A\u4E2A\u5F02\u6B65\u8BF7\u6C42</p><p>2\uFF09<code>axios.spread()</code>: \u7528\u6765\u6307\u5B9A\u63A5\u6536\u6240\u6709\u6210\u529F\u6570\u636E\u7684\u56DE\u8C03\u51FD\u6570\u7684\u65B9\u6CD5</p></li><li><p>\u6CE8\u610F\uFF1A\u4EE5\u4E0A\u65B9\u6CD5\u5DF2\u88AB\u9057\u5F03\uFF0C\u9700\u8981\u4F7F\u7528<code>Promise.all</code>\u4EE3\u66FF</p></li></ol><hr>`,32);function q(e,j){const p=c("ExternalLinkIcon");return l(),i("div",null,[r,n("blockquote",null,[n("p",null,[k,n("a",d,[v,t(p)])])]),m,n("blockquote",null,[n("p",null,[b,n("a",g,[y,t(p)])])]),h,n("img",{src:e.$withBase("/imgs/server/axios\u8BED\u6CD5.png"),alt:"axios\u8BED\u6CD5"},null,8,f),x])}var _=o(u,[["render",q],["__file","axios.html.vue"]]);export{_ as default};
